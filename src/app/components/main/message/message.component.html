

<div  class="container chatbox">



    <div class="row chat-window "  id="chat_window_1" style="width: 300px;">
        <div class="col-xs-12 col-md-12" >
        	<div  class="panel panel-default" > 


                <div class="panel-heading top-bar">
                   
                    <div class="" style="width: 300px;">
                        <small style="cursor: pointer;" (click)="toOtherProfile(youId)"><span  class="glyphicon glyphicon-comment"></span>{{you.firstname}} {{you.lastname}} </small>
                        <span class="" style="position: absolute; right:30px">
                            <a *ngIf="!minus" (click)="toggleChat()"><strong style="cursor: pointer;">-</strong><span   id="minim_chat_window" class="glyphicon glyphicon-minus icon_minim"></span></a>
                            <a *ngIf="minus" (click)="toggleChat()"><strong style="cursor: pointer;">+</strong><span   id="minim_chat_window" class="glyphicon glyphicon-minus icon_minim"></span></a>
                            <a (click)="closeChat()" style="cursor: pointer;">x<span class="glyphicon glyphicon-remove icon_close" data-id="chat_window_1"></span></a>
                        </span>
                    </div>
                   
                </div>



                <div (click)="seen()"   *ngIf="!minus" #chatElement class="panel-body msg_container_base">

                    <div *ngFor="let msg of chat.messages; let i = index">

                    <div *ngIf="msg.from == me.id " class="row msg_container base_sent">
                        <small>{{me.firstname}}  {{me.lastname}} <br> {{msg.time}} {{msg.date}}</small>

                        <div class="col-md-10 col-xs-10">
                            <div  style="background-color: aquamarine; max-width: 100%; word-wrap: break-word;" class="messages msg_sent">
                                <p>
                                  {{msg.message}}
                                </p>
                            </div>
                        </div>
                      
                    </div>


                      
                    <div *ngIf="msg.from != me.id" class="row msg_container base_receive">
                        <small>{{you.firstname}} {{you.lastname}} <br> {{msg.time}} {{msg.date}}</small>

                        
                        <div  class="col-md-10 col-xs-10">
                           
                            <div style="max-width: 100%; word-wrap: break-word;" class="messages msg_receive">
                              
                                <p >
                                  {{msg.message}}
                                </p>
                              
                            </div>
                        </div>
                    </div>
                    
                    <h6 *ngIf="msg.seen == true && msg.from == me.id && chat.messages.length - 1 == i">
                            seen
                    </h6>

                        <h6 *ngIf="isTyping == true && chat.messages.length - 1 == i">
                                <em>Typing.....</em>  
                        </h6>
                  </div>
                </div>

                <div *ngIf="!minus" class="panel-footer">
                    <div class="input-group">
                        <input (click)="seen()" (keyup)="typing()" id="btn-input" #txt type="text" class="form-control input-sm chat_input" [(ngModel)]="msg" placeholder="Write your message here..." />
                        <span class="input-group-btn">
                        <button [disabled]="txt.value.length < 1" class="btn btn-primary btn-md" id="btn-chat" (click)="message()">Send</button>
                        </span>
                    </div>
                </div>
    		</div>
        </div>
    </div>
</div>